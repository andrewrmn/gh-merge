var andrewrossco=andrewrossco||{};!function(t,e){t(function(){e.App.init(),e.Header.init(),e.ScrollTo.init(),e.Viewport.init(),e.Sections.init(),e.Lines.init(),e.Modal.init(),e.Tabs.init()}),e.App={userAgent:void 0,$html:void 0,init:function(){e.Features=e.Features||{},this.userAgent=navigator.userAgent.toLowerCase(),this.$html=t("html"),this.noTouch(),this.isTouch(),this.isNewIE(),this.isIE(),t(document).ready(function(){t("body").addClass("page-loaded")})},noTouch:function(){if(!("ontouchstart"in window))return e.Features.noTouch=!1,void this.$html.addClass("noTouch");e.Features.noTouch=!1},isTouch:function(){if("ontouchstart"in window)return e.Features.isTouch=!1,void this.$html.addClass("isTouch");e.Features.isTouch=!1},isNewIE:function(){if(document.documentMode||/Edge/.test(navigator.userAgent))return void(-1===navigator.appVersion.indexOf("Trident")?this.$html.addClass("isEDGE"):this.$html.addClass("isIE isIE11"));e.Features.isNewIE=!1},isIE:function(){if(-1!==navigator.appVersion.indexOf("MSIE"))return this.$html.addClass("isIE"),void(e.Features.isIE=!0);e.Features.isIE=!1}},e.Header={init:function(){function e(){TweenLite.to("#git",.6,{height:"20px",autoRound:!1}),TweenLite.to("#merge",.6,{height:"20px",y:0,x:62,autoRound:!1}),TweenLite.to("#year",.6,{height:"20px",y:0,x:185,autoRound:!1})}function i(){TweenLite.to("#git",.6,{height:"25px",autoRound:!1}),TweenLite.to("#merge",.6,{height:"25px",x:0,y:35,autoRound:!1}),TweenLite.to("#year",.6,{height:"25px",x:28,y:71,autoRound:!1})}var n=t(".burger"),o=t("body");n.click(function(){o.hasClass("menu-is-open")?o.removeClass("menu-is-open"):o.addClass("menu-is-open")}),i();var s=t(".site-header"),a=(s.offset().top,t(window));t(document).scroll(function(){a.scrollTop()>10?s.hasClass("is-sticky")||(s.addClass("is-sticky"),e()):s.hasClass("is-sticky")&&(s.removeClass("is-sticky"),i())})}},e.Sections={init:function(){var e=t(".js-page-section"),i=t(window);e.each(function(){function e(){i.scrollTop()>=o&&i.scrollTop()<s-54?n.hasClass("active-section")||(n.addClass("active-section"),r.each(function(){t(this).attr("href")==a&&(r.removeClass("selected"),t(this).addClass("selected"))})):n.hasClass("active-section")&&n.removeClass("active-section")}var n=t(this),o=n.offset().top-54,s=n.offset().top+n.innerHeight(),a="#"+n.attr("ID"),r=t(".main-nav a");i.resize(function(){o=n.offset().top-54,s=n.offset().top+n.innerHeight()}),i.scroll(function(){e()}),i.resize(function(){e()}),t(document).ready(function(){e()})})}},e.Viewport={init:function(){function e(t){t.isOnScreen()?t.hasClass("in-view")||t.addClass("in-view"):t.hasClass("in-view")&&t.removeClass("in-view")}t.fn.isOnScreen=function(){var e=t(this).offset().top,i=e+t(this).outerHeight(),n=t(window).scrollTop(),o=n+t(window).height();return i>n&&e<o};var i=document.querySelectorAll("*[data-animate-in], *[data-detect-viewport]");t(window).on("resize scroll",function(){for(var n=0;n<i.length;n++){e(t(i[n]))}}),t(document).ready(function(){for(var n=0;n<i.length;n++){var o=0,s=t(i[n]);o=i[n].getAttribute("data-animate-in-delay")?i[n].getAttribute("data-animate-in-delay")/1e3+"s":0,s.css("transition-delay",o),e(s)}})}},e.Lines={init:function(){var e=t("line, path, circle, polyline, polygon, rect, ellipse");TweenLite.to(e,0,{drawSVG:"0%"}),e.each(function(){function e(){n.hasClass("in-view")?0==o&&("circle"==s&&(a=1.6),TweenLite.to(i,1.6,{drawSVG:"100%",alpha:1}).delay(a),o=!0):1==o&&(TweenLite.to(i,1,{drawSVG:"0%"}),o=!1,i[0].hasAttribute("stroke-width")||TweenLite.to(i,0,{alpha:0}))}var i=t(this),n=i.parents(".shape-grid"),o=!1,s=i.prop("tagName"),a=.4;i[0].hasAttribute("stroke-width")||TweenLite.to(i,0,{alpha:0}),t(window).on("resize scroll",function(){e()}),t(document).ready(function(){e()})})}},e.ScrollTo={init:function(){t("*[data-scroll-to]").on("click touchstart:not(touchmove)",function(){var e=t(this).attr("data-scroll-to"),i=t("#"+e),n=1e3,o=0;t("body").removeClass("menu-is-open"),t(this).attr("data-scroll-speed")&&(n=t(this).attr("data-scroll-speed")),t(this).attr("data-scroll-offset")&&(o=t(this).attr("data-scroll-offset")),t("html, body").animate({scrollTop:i.offset().top-o},n)})}},e.Modal={init:function(){function e(t){var e=t.children();e.sort(function(){return.5-Math.random()}),t.empty(),e.appendTo(t)}function i(i){var n=i,l=n.find(".speaker__info-border").css("background"),u=n.find(".speaker__image-wrap").clone(),h=n.find(".speaker__info").clone(),f=n.find(".speaker__modal-content").clone();r.append(u),s.css("background",l),a.append(h),a.append(f),o.addClass("is-active"),c.addClass("modal-is-open"),e(d),setTimeout(function(){t(window).trigger("resize")},600)}var n=t(".open-speaker-modal"),o=t("#speaker-modal"),s=t(".modal__sidebar"),a=t(".modal__body > *"),r=t(".modal__img"),c=t("body"),d=t(".js-shuffle-children");n.click(function(e){e.preventDefault();var n=t(this),o=n.attr("href"),s=t("#"+o),a=s.attr("ID");history.replaceState(null,"","#"+a),i(s)}),t(document).ready(function(){var e=window.location.hash.replace("#",""),n=t(".open-modal-sched");t(".speaker").each(function(){var n=t(this),s=n.attr("ID");s===e&&""!=s&&(i(n),o.addClass("is-active"),c.addClass("modal-is-open"))}),n.each(function(){var e=t(this),i=e.attr("href"),n=t("#"+i),o=n.find(".speaker__info-border").css("background-color");e.css("color",o),e.mouseover(function(){e.removeClass("text-white")}),e.mouseout(function(){e.addClass("text-white")})})}),t(".modal__close").click(function(e){e.preventDefault(),o.removeClass("is-active"),r.empty(),a.empty(),c.removeClass("modal-is-open"),history.replaceState(null,""," "),d.removeClass("in-view"),setTimeout(function(){t(window).trigger("resize")},600)})}},e.Tabs={init:function(){var e=t(".tabs__tab");t(".tabs__content");e.click(function(e){e.preventDefault();var i=t(this).parents(".tabs"),n=i.find(".tabs__tab"),o=i.find(".tabs__content");n.removeClass("selected"),o.hide(),t(this).addClass("selected");var s=t(this).attr("href"),a=t(s);a.find("*[data-detect-viewport]");a.fadeIn(300),t(window).trigger("resize")})}}}(jQuery,andrewrossco);