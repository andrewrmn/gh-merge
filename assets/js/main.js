var andrewrossco=andrewrossco||{};!function(e,t){e(function(){t.App.init(),t.Header.init(),t.ScrollTo.init(),t.Viewport.init(),t.Sections.init(),t.Lines.init(),t.Modal.init(),t.Tabs.init()}),t.App={userAgent:void 0,$html:void 0,init:function(){t.Features=t.Features||{},this.userAgent=navigator.userAgent.toLowerCase(),this.$html=e("html"),this.noTouch(),this.isTouch(),this.isNewIE(),this.isIE(),e(document).ready(function(){e("body").addClass("page-loaded")})},noTouch:function(){if(!("ontouchstart"in window))return t.Features.noTouch=!1,void this.$html.addClass("noTouch");t.Features.noTouch=!1},isTouch:function(){if("ontouchstart"in window)return t.Features.isTouch=!1,void this.$html.addClass("isTouch");t.Features.isTouch=!1},isNewIE:function(){if(document.documentMode||/Edge/.test(navigator.userAgent))return void(-1===navigator.appVersion.indexOf("Trident")?this.$html.addClass("isEDGE"):this.$html.addClass("isIE isIE11"));t.Features.isNewIE=!1},isIE:function(){if(-1!==navigator.appVersion.indexOf("MSIE"))return this.$html.addClass("isIE"),void(t.Features.isIE=!0);t.Features.isIE=!1}},t.Header={init:function(){function t(){TweenLite.to("#git",.6,{height:"20px",autoRound:!1}),TweenLite.to("#merge",.6,{height:"20px",y:0,x:62,autoRound:!1}),TweenLite.to("#year",.6,{height:"20px",y:0,x:185,autoRound:!1})}function i(){TweenLite.to("#git",.6,{height:"25px",autoRound:!1}),TweenLite.to("#merge",.6,{height:"25px",x:0,y:35,autoRound:!1}),TweenLite.to("#year",.6,{height:"25px",x:28,y:71,autoRound:!1})}var n=e(".burger"),o=e("body");n.click(function(){o.hasClass("menu-is-open")?o.removeClass("menu-is-open"):o.addClass("menu-is-open")}),i();var s=e(".site-header"),a=(s.offset().top,e(window));e(document).scroll(function(){a.scrollTop()>10?s.hasClass("is-sticky")||(s.addClass("is-sticky"),t()):s.hasClass("is-sticky")&&(s.removeClass("is-sticky"),i())})}},t.Sections={init:function(){var t=e(".js-page-section"),i=e(window);t.each(function(){function t(){i.scrollTop()>=o&&i.scrollTop()<s-54?n.hasClass("active-section")||(n.addClass("active-section"),r.each(function(){e(this).attr("href")==a&&(r.removeClass("selected"),e(this).addClass("selected"))})):n.hasClass("active-section")&&n.removeClass("active-section")}var n=e(this),o=n.offset().top-54,s=n.offset().top+n.innerHeight(),a="/#"+n.attr("ID"),r=e(".main-nav a");i.resize(function(){o=n.offset().top-54,s=n.offset().top+n.innerHeight()}),i.scroll(function(){t()}),i.resize(function(){t()}),e(document).ready(function(){t()})})}},t.Viewport={init:function(){function t(e){e.isOnScreen()?e.hasClass("in-view")||e.addClass("in-view"):e.hasClass("in-view")&&e.removeClass("in-view")}e.fn.isOnScreen=function(){var t=e(this).offset().top,i=t+e(this).outerHeight(),n=e(window).scrollTop(),o=n+e(window).height();return i>n&&t<o};var i=document.querySelectorAll("*[data-animate-in], *[data-detect-viewport]");e(window).on("resize scroll",function(){for(var n=0;n<i.length;n++){t(e(i[n]))}}),e(document).ready(function(){for(var n=0;n<i.length;n++){var o=0,s=e(i[n]);o=i[n].getAttribute("data-animate-in-delay")?i[n].getAttribute("data-animate-in-delay")/1e3+"s":0,s.css("transition-delay",o),t(s)}})}},t.Lines={init:function(){var t=e("line, path, circle, polyline, polygon, rect, ellipse");TweenLite.to(t,0,{drawSVG:"0%"}),t.each(function(){function t(){n.hasClass("in-view")?0==o&&("circle"==s&&(a=1.6),TweenLite.to(i,1.6,{drawSVG:"100%",alpha:1}).delay(a),o=!0):1==o&&(TweenLite.to(i,1,{drawSVG:"0%"}),o=!1,i[0].hasAttribute("stroke-width")||TweenLite.to(i,0,{alpha:0}))}var i=e(this),n=i.parents(".shape-grid"),o=!1,s=i.prop("tagName"),a=.4;i[0].hasAttribute("stroke-width")||TweenLite.to(i,0,{alpha:0}),e(window).on("resize scroll",function(){t()}),e(document).ready(function(){t()})})}},t.ScrollTo={init:function(){e("*[data-scroll-to]").on("click touchstart:not(touchmove)",function(){var t=e(this).attr("data-scroll-to"),i=e("#"+t),n=1e3,o=0;e("body").removeClass("menu-is-open"),e(this).attr("data-scroll-speed")&&(n=e(this).attr("data-scroll-speed")),e(this).attr("data-scroll-offset")&&(o=e(this).attr("data-scroll-offset")),e("html, body").animate({scrollTop:i.offset().top-o},n)})}},t.Modal={init:function(){function t(e){var t=e.children();t.sort(function(){return.5-Math.random()}),e.empty(),t.appendTo(e)}function i(i){var n=i,l=n.find(".speaker__info-border").css("background-color"),u=n.find(".speaker__image-wrap").clone(),h=n.find(".speaker__info").clone(),f=n.find(".speaker__modal-content").clone();r.append(u).delay(800).addClass("in-view"),s.css("background",l),a.append(h),a.append(f),o.addClass("is-active"),c.addClass("modal-is-open"),t(d),setTimeout(function(){e(window).trigger("resize")},600)}var n=e(".open-speaker-modal"),o=e("#speaker-modal"),s=e(".modal__sidebar"),a=e(".modal__body > *"),r=e(".modal__img"),c=e("body"),d=e(".js-shuffle-children");n.click(function(t){t.preventDefault();var n=e(this),o=n.attr("href"),s=e("#"+o),a=s.attr("ID");history.replaceState(null,"","#"+a),i(s)}),e(document).ready(function(){var t=window.location.hash.replace("#",""),n=e(".open-modal-sched");e(".speaker").each(function(){var n=e(this),s=n.attr("ID");s===t&&""!=s&&(i(n),o.addClass("is-active"),c.addClass("modal-is-open"))}),n.each(function(){var t=e(this),i=t.attr("href"),n=e("#"+i),o=n.find(".speaker__info-border").css("background-color");t.css("color",o),t.mouseover(function(){t.removeClass("text-white")}),t.mouseout(function(){t.addClass("text-white")})})}),e(".modal__close").click(function(t){t.preventDefault(),o.removeClass("is-active"),r.empty(),a.empty(),c.removeClass("modal-is-open"),history.replaceState(null,""," "),d.removeClass("in-view"),setTimeout(function(){e(window).trigger("resize")},600)})}},t.Tabs={init:function(){var t=e(".tabs__tab");e(".tabs__content");t.click(function(t){t.preventDefault();var i=e(this).parents(".tabs"),n=i.find(".tabs__tab"),o=i.find(".tabs__content");n.removeClass("selected"),o.hide(),e(this).addClass("selected");var s=e(this).attr("href"),a=e(s);a.find("*[data-detect-viewport]");a.fadeIn(300),e(window).trigger("resize")})}}}(jQuery,andrewrossco);